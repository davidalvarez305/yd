{% load static %}
<!DOCTYPE html>
<html class="dark" xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
    <!-- Google tag (gtag.js) -->
	<script async src="https://www.googletagmanager.com/gtag/js?id={{ google_analytics_id }}"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag() { dataLayer.push(arguments); }
		gtag("js", new Date());

		gtag("config", "{{ google_analytics_id }}");
		gtag("set", "user_id", "{{ external_id }}");

		gtag('config', '{{ google_ads_id }}');
	</script>

	<script>
		gtag('config', '{{ google_ads_id }}/{{ google_ads_conversion_label }}', {
			'phone_conversion_number': '{{ phone_number }}',
			'phone_conversion_css_class': 'phoneNumber'
		});
	</script>
	<!-- End Google tag -->

	<!-- Facebook Tag -->
	<script>
		!function (f, b, e, v, n, t, s) {
			if (f.fbq) return; n = f.fbq = function () {
				n.callMethod ?
					n.callMethod.apply(n, arguments) : n.queue.push(arguments)
			};
			if (!f._fbq) f._fbq = n; n.push = n; n.loaded = !0; n.version = '2.0';
			n.queue = []; t = b.createElement(e); t.async = !0;
			t.src = v; s = b.getElementsByTagName(e)[0];
			s.parentNode.insertBefore(t, s)
		}(window, document, 'script',
			'https://connect.facebook.net/en_US/fbevents.js');
		fbq('init', '{{ facebook_dataset_id }}', { 'external_id': "{{ external_id }}" });
		fbq('track', 'PageView');
	</script>
	<noscript><img height="1" width="1" style="display:none"
			src="https://www.facebook.com/tr?id={{ facebook_dataset_id }}&ev=PageView&noscript=1" /></noscript>
	<!-- End Facebook Tag -->
    <!-- Essential Meta Tags -->
    <meta charset="utf-8">
    <title>{{ page_title }}</title>
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=1" />
    <meta name="description" content="{{ meta_description }}">

    <!-- Open Graph -->
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="{{ page_title }}" />
    <meta property="og:description" content="{{ meta_description }}" />
    <meta property="og:site_name" content="{{ site_name }}" />

    <!-- Twitter -->
    <meta name="twitter:title" content="{{ page_title }}" />
    <meta name="twitter:description" content="{{ meta_description }}" />
    <meta name="twitter:url" content="{{ page_path }}" />

    <!-- CSS -->
    <link href="{% static 'styles/main.css' %}" rel="stylesheet" type="text/css">

    <!-- Rels -->
    <link rel="canonical" href="{{ page_path }}" />

    <!-- Favicon -->
    <link rel="shortcut icon" href="{% media 'favicon.ico' %}">
    <link rel="icon" type="image/png" sizes="32x32" href="{% media 'favicon-32x32.png' %}">
    <link rel="icon" type="image/png" sizes="16x16" href="{% media 'favicon-16x16.png' %}">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="{% media 'apple-touch-icon.png' %}">

    <!-- Android Chrome -->
    <link rel="icon" type="image/png" sizes="192x192" href="{% media 'android-chrome-192x192.png' %}">
    <link rel="icon" type="image/png" sizes="512x512" href="{% media 'android-chrome-512x512.png' %}">
</head>

<body>
	<div class="relative overflow-hidden bg-white dark:bg-gray-900 dark:text-gray-100">
		{% if is_mobile %}
		<header id="page-header"
			class="fixed left-0 right-0 top-0 z-30 flex h-16 flex-none items-center bg-white shadow-sm dark:bg-gray-800">
			<div class="mx-auto flex w-full max-w-10xl justify-center px-4 lg:px-8">
				<!-- Center Section -->
				<div class="flex items-center">
					<a href="/"
						class="group inline-flex items-center gap-2 text-2xl font-bold tracking-wide text-gray-900 hover:text-gray-600 dark:text-gray-100 dark:hover:text-gray-300">
						<img src="{% media 'mobile_header.png' %}" alt="yd cocktails logo" />
					</a>
				</div>
				<!-- END Center Section -->
			</div>
		</header>
		<div id="floatingHeader" style="display: none;"
			class="fixed left-0 right-0 top-0 z-30 flex h-12 mt-16 items-stretch bg-white shadow-sm">
			<!-- Emerald-colored element -->
			<a href="tel:{{ phone_number }}"
				class="phoneNumberCTA flex-1 flex items-center justify-center bg-emerald-600 text-white text-lg font-bold">
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"
					class="hi-mini hi-device-phone-mobile inline-block size-5">
					<path d="M8 16.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z" />
					<path fill-rule="evenodd"
						d="M4 4a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V4Zm4-1.5v.75c0 .414.336.75.75.75h2.5a.75.75 0 0 0 .75-.75V2.5h1A1.5 1.5 0 0 1 14.5 4v12a1.5 1.5 0 0 1-1.5 1.5H7A1.5 1.5 0 0 1 5.5 16V4A1.5 1.5 0 0 1 7 2.5h1Z"
						clip-rule="evenodd" />
				</svg>
				<span class="phoneNumber">{{ phone_number }}</span>
			</a>

			<!-- Red-colored button -->
			<button name="floatingCTA" data-modal-id="quoteModal"
				class="modalTrigger flex-1 flex items-center justify-center border border-primary-700 bg-primary-700 font-semibold leading-6 text-white hover:border-primary-600 hover:bg-primary-600 hover:text-white focus:ring focus:ring-primary-400/50 active:border-primary-700 active:bg-primary-700 dark:focus:ring-primary-400/90">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
					class="hi-outline hi-banknotes inline-block size-6">
					<path stroke-linecap="round" stroke-linejoin="round"
						d="M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z" />
				</svg>
				<span class="ml-2">Get Quote</span>
			</button>
		</div>
		{% else %}
		<header id="page-header" class="hidden sm:relative sm:flex sm:flex-none sm:items-center">
			<div
				class="container mx-auto flex flex-row items-center justify-between space-y-0 lg:px-4 xl:max-w-7xl">
				<div>
					<a href="/"
						class="group inline-flex items-center space-x-2 text-xl font-bold tracking-wide text-gray-900 hover:text-gray-600 dark:text-gray-100 dark:hover:text-gray-300">
						<img src="{% media 'logo_header.png' %}" alt="yd cocktails logo" />
					</a>
				</div>
			</div>
		</header>
		{% endif %}
		<!-- Page Content -->
		<main id="page-content" class="flex flex-auto flex-col mt-16 md:mt-0 max-w-full">
			<div class="container xl:max-w-7xl mx-auto px-4 lg:p-8">
				{% block content %}{% endblock %}
			</div>
		</main>
		<!-- Page Content -->

		<!-- Quote Form -->
		<div id="quoteModal" class="modalContainer" style="display: none;">
			<div>
				<div tabindex="-1" role="dialog"
					class="fixed inset-0 z-90 overflow-y-auto overflow-x-hidden bg-gray-900/75 p-4 backdrop-blur-sm lg:p-8">
					<div role="document"
						class="mx-auto flex w-full sm:w-1/2 flex-col overflow-hidden rounded-lg bg-white shadow-sm dark:bg-gray-800 dark:text-gray-100">
						<div class="flex items-center justify-between bg-gray-50 px-5 py-4 dark:bg-gray-700/50">
							<h3 class="flex items-center gap-2 font-medium">
								<span>Request Your Quote With A Few Details</span>
							</h3>
							<div class="-my-4">
								<button type="button"
									class="closeModal inline-flex items-center justify-center gap-2 rounded-lg border border-transparent px-3 py-2 text-sm font-semibold leading-5 text-gray-800 hover:border-gray-300 hover:text-gray-900 hover:shadow-sm focus:ring focus:ring-gray-300/25 active:border-gray-200 active:shadow-none dark:border-transparent dark:text-gray-300 dark:hover:border-gray-600 dark:hover:text-gray-200 dark:focus:ring-gray-600/40 dark:active:border-gray-700">
									✕
								</button>
							</div>
						</div>
						<div class="grow px-5">
							<div class="p-5">
								<form method="post" class="space-y-6" action="{% url 'quote' %}" hx-post="{% url 'quote' %}" hx-target="#alertModal" hx-swap="outerHTML" hx-on="htmx:afterSwap:handleReportConversion">
									{% csrf_token %}
									{{ form.as_p }}
									<button type="submit"
										class="w-full rounded-lg bg-primary-700 px-8 py-4 font-semibold text-white hover:bg-primary-600 focus:ring focus:ring-primary-400/50">
										Get My Quote
									</button>
								</form>
							</div>
						</div>
						<div class="px-5 py-4 text-right">
							<button type="button"
								class="closeModal border border-gray-200 bg-white px-3 py-2 rounded-lg text-gray-800 hover:border-gray-300 hover:text-gray-900 focus:ring focus:ring-gray-300/25">
								Cancel
							</button>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div id="optinConfirmationModal" class=".modalContainer" style="display: none;">
			<div tabindex="-1" role="dialog"
				class="fixed inset-0 z-90 overflow-y-auto overflow-x-hidden bg-gray-900/75 p-4 backdrop-blur-sm lg:p-8">
				<div role="document"
					class="mx-auto flex w-full max-w-md flex-col overflow-hidden rounded-lg bg-white shadow-sm dark:bg-gray-800 dark:text-gray-100">
					<div class="flex grow gap-5 px-5 py-7">
						<div
							class="flex size-14 flex-none items-center justify-center rounded-full bg-rose-100 text-rose-500 dark:bg-rose-700/50 dark:text-rose-300">
							<svg class="hi-outline hi-shield-exclamation inline-block size-6" xmlns="http://www.w3.org/2000/svg"
								fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" aria-hidden="true">
								<path stroke-linecap="round" stroke-linejoin="round"
									d="M12 9v3.75m0-10.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.75c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.57-.598-3.75h-.152c-3.196 0-6.1-1.249-8.25-3.286zm0 13.036h.008v.008H12v-.008z" />
							</svg>
						</div>
						<div>
							<h4 class="mb-1 text-lg font-bold">Opt Out Confirmation</h4>
							<p class="text-md text-gray-600 dark:text-gray-400 py-2">
								Text messaging allows us to quickly notify you without the need for a phone call.
							</p>
							<p class="text-md text-gray-600 dark:text-gray-400 py-2">
								Are you sure you wish to disable automated text message communications?
							</p>
						</div>
					</div>
					<div class="space-x-1 bg-gray-50 px-5 py-4 text-right dark:bg-gray-700/50">
						<button type="button" name="confirm"
							class="closeModal inline-flex items-center justify-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm font-semibold leading-5 text-gray-800 hover:border-gray-300 hover:text-gray-900 hover:shadow-sm focus:ring focus:ring-gray-300/25 active:border-gray-200 active:shadow-none dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:border-gray-600 dark:hover:text-gray-200 dark:focus:ring-gray-600/40 dark:active:border-gray-700">
							I don't want automated messaging
						</button>
						<button type="button" name="cancel"
							class="closeModal inline-flex items-center justify-center gap-2 rounded-lg border border-primary-700 bg-primary-700 px-3 py-2 text-sm font-semibold leading-5 text-white hover:border-primary-600 hover:bg-primary-600 hover:text-white focus:ring focus:ring-primary-400/50 active:border-primary-700 active:bg-primary-700 dark:focus:ring-primary-400/90">
							Cancel
						</button>
					</div>
				</div>
			</div>
		</div>
		<div id="alertModal"></div>
		
		<script>
			const optIn = document.getElementById("opt_in_text_messaging");
			let modalId = "optinConfirmationModal";
		
			modalHelper.register(modalId)
		
			const optInModal = modalHelper.get(modalId);
			optInModal.setOnClose = (event) => {
				const buttonName = event.target.getAttribute('name');
		
				switch (buttonName) {
					case "confirm":
						optIn = true;
						break;
					case "cancel":
						optIn = false;
						break;
				}
			};
		
			optIn.addEventListener("click", () => optInModal.open());
		</script>
		<!-- END Quote Form -->

		<!-- Page Footer -->
		<div class="dark">
			<footer id="page-footer" class="bg-white dark:bg-gray-900 dark:text-gray-100">
				<div class="container mx-auto px-4 py-16 text-center text-sm lg:px-8 lg:py-32 xl:max-w-7xl">
					<div class="space-y-10">
						<nav class="space-x-4">
							<a href="https://www.google.com/search?q=YD+Cocktails" class="text-gray-400 hover:text-gray-800 dark:hover:text-white">
								<svg class="bi bi-google inline-block size-5" xmlns="http://www.w3.org/2000/svg"
									fill="currentColor" viewBox="0 0 16 16" aria-hidden="true">
									<path
										d="M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z" />
								</svg>
							</a>
							<a href="https://instagram.com/yd_cocktails" class="text-gray-400 hover:text-[#405de6]">
								<svg class="icon-instagram inline-block size-5" xmlns="http://www.w3.org/2000/svg"
									viewBox="0 0 24 24" fill="currentColor">
									<path
										d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741 0 8.333.014 7.053.072 2.695.272.273 2.69.073 7.052.014 8.333 0 8.741 0 12c0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24c3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98C15.668.014 15.259 0 12 0zm0 5.838a6.162 6.162 0 100 12.324 6.162 6.162 0 000-12.324zM12 16a4 4 0 110-8 4 4 0 010 8zm6.406-11.845a1.44 1.44 0 100 2.881 1.44 1.44 0 000-2.881z">
									</path>
								</svg>
							</a>
						</nav>
						<nav class="space-x-2 sm:space-x-4">
							<a href="{% url 'terms_and_conditions' %}"
								class="font-medium text-gray-700 hover:text-gray-950 dark:text-gray-400 dark:hover:text-gray-50">
								Terms of Service
							</a>
							<a href="{% url 'privacy_policy' %}"
								class="font-medium text-gray-700 hover:text-gray-950 dark:text-gray-400 dark:hover:text-gray-50">
								Privacy Policy
							</a>
							<a href="{% url 'contact' %}"
								class="font-medium text-gray-700 hover:text-gray-950 dark:text-gray-400 dark:hover:text-gray-50">
								Contact
							</a>
							<a href="/crm/lead"
								class="font-medium text-gray-700 hover:text-gray-950 dark:text-gray-400 dark:hover:text-gray-50">
								CRM
							</a>
						</nav>
					</div>
					<hr class="my-10 border-dashed dark:border-gray-700/75" />
					<div class="text-gray-500 dark:text-gray-400/80">
						<span class="font-medium">{{ company_name }}</span> © {{ current_year }}
					</div>
				</div>
			</footer>
		</div>
		<!-- END Page Footer -->
	</div>
</body>

<!-- JS Scripts -->
{% block extra_scripts %}
    {% if js_files %}
        {% for js_file in js_files %}
            <script src="{% static js_file %}"></script>
        {% endfor %}
    {% endif %}
{% endblock %}

<script type="module">
    import { ModalHelper } from "{% static 'js/modal.js' %}";
    const modalHelper = new ModalHelper();

    modalHelper.register({ modalId: 'quoteModal' });
</script>
<script src="https://unpkg.com/htmx.org@2.0.4"></script>
<script>
	function handleReportConversion() {
		// Report Google Conversion
		gtag("event", "{{ lead_generated_event_name }}", {
			currency: "{{ default_currency }}",
			value: parseFloat("{{ default_lead_value }}"),
		});

		// Report FB Conversion
		fbq("track", "{{ lead_event_name }}", { external_id: "{{ external_id }}" });
	}
</script>
<!-- END JS Scripts -->

</html>