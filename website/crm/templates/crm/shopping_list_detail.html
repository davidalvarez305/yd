{% extends 'crm/base.html' %} {% load static %} {% block content %}
<div
  class="mx-auto flex flex-col overflow-hidden rounded-lg bg-white shadow-sm xl:max-w-4xl dark:bg-gray-800 dark:text-gray-100 print:shadow-none">
  <div class="grow p-5 print:p-0">
    <div class="mx-auto lg:w-10/12 print:w-full">
      <div
        class="flex items-center justify-between border-b border-gray-100 py-10 dark:border-gray-700/50 print:pt-0">
        <h3 class="font-semibold">Shopping List</h3>
        <div class="print:hidden">
          <button
            type="button"
            class="inline-flex items-center justify-center gap-2 rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm leading-5 font-semibold text-gray-800 hover:border-gray-300 hover:text-gray-900 hover:shadow-sm focus:ring focus:ring-gray-300/25 active:border-gray-200 active:shadow-none dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:border-gray-600 dark:hover:text-gray-200 dark:focus:ring-gray-600/40 dark:active:border-gray-700">
            <svg
              class="hi-mini hi-printer inline-block size-4 opacity-50"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 20 20"
              fill="currentColor"
              aria-hidden="true">
              <path
                fill-rule="evenodd"
                d="M5 2.75C5 1.784 5.784 1 6.75 1h6.5c.966 0 1.75.784 1.75 1.75v3.552c.377.046.752.097 1.126.153A2.212 2.212 0 0118 8.653v4.097A2.25 2.25 0 0115.75 15h-.241l.305 1.984A1.75 1.75 0 0114.084 19H5.915a1.75 1.75 0 01-1.73-2.016L4.492 15H4.25A2.25 2.25 0 012 12.75V8.653c0-1.082.775-2.034 1.874-2.198.374-.056.75-.107 1.127-.153L5 6.25v-3.5zm8.5 3.397a41.533 41.533 0 00-7 0V2.75a.25.25 0 01.25-.25h6.5a.25.25 0 01.25.25v3.397zM6.608 12.5a.25.25 0 00-.247.212l-.693 4.5a.25.25 0 00.247.288h8.17a.25.25 0 00.246-.288l-.692-4.5a.25.25 0 00-.247-.212H6.608z"
                clip-rule="evenodd" />
            </svg>
            <span>Print</span>
          </button>
        </div>
      </div>
      <!-- END Invoice Header -->

      <!-- Responsive Table Container -->
      <div
        class="min-w-full overflow-x-auto rounded border border-gray-100 bg-white dark:border-gray-700 dark:bg-gray-800">
        <table class="min-w-full align-middle text-sm whitespace-nowrap">
          <thead>
            <tr class="border-b border-gray-100 dark:border-gray-700/50">
              <th
                class="bg-gray-100/75 px-3 py-4 text-center font-semibold text-gray-900 dark:bg-gray-700/25 dark:text-gray-50">
                Product
              </th>
              <th
                class="bg-gray-100/75 px-3 py-4 text-center font-semibold text-gray-900 dark:bg-gray-700/25 dark:text-gray-50">
                Qty
              </th>
              <th
                class="bg-gray-100/75 px-3 py-4 text-center font-semibold text-gray-900 dark:bg-gray-700/25 dark:text-gray-50">
                Store
              </th>
              <th
                class="bg-gray-100/75 px-3 py-4 text-center font-semibold text-gray-900 dark:bg-gray-700/25 dark:text-gray-50">
                Image
              </th>
            </tr>
          </thead>
          <!-- END Table Header -->

          <!-- Table Body -->
          <tbody>
            {% for item in event_shopping_list.entries.all %}
            <tr class="border-b border-gray-100 dark:border-gray-700/50">
              <td class="p-3 text-center">
                <p class="mb-1 font-semibold">{{ item.store_item }}</p>
              </td>
              <td class="p-3 text-center">
                {{ item.quantity }} {{ item.store_item.type }}{% if item.quantity > 1 %}s{% endif %} x {{ item.store_item.product_quantity }} {{ item.store_item.unit }}
              </td>
              <td class="p-3 text-center">
                <a
                  href="https://www.google.com/maps/search/?api=1&query={{ item.store_item.store|urlencode }}"
                  class="inline-flex items-center justify-center gap-2 rounded-lg border border-gray-200 bg-white px-2 py-1 text-sm font-semibold leading-5 text-gray-800 hover:border-gray-300 hover:text-gray-900 hover:shadow-sm focus:ring focus:ring-gray-300/25 active:border-gray-200 active:shadow-none dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:border-gray-600 dark:hover:text-gray-200 dark:focus:ring-gray-600/40 dark:active:border-gray-700">
                  {{ item.store_item.store }}
                </a>
              </td>
              <td class="p-3 text-center">
                <a
                  href="{{ item.store_item.image.url }}"
                  class="inline-flex items-center justify-center gap-2 rounded-lg border border-gray-200 bg-white px-2 py-1 text-sm font-semibold leading-5 text-gray-800 hover:border-gray-300 hover:text-gray-900 hover:shadow-sm focus:ring focus:ring-gray-300/25 active:border-gray-200 active:shadow-none dark:border-gray-700 dark:bg-gray-800 dark:text-gray-300 dark:hover:border-gray-600 dark:hover:text-gray-200 dark:focus:ring-gray-600/40 dark:active:border-gray-700">
                  View
                </a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
          <!-- END Table Body -->
        </table>
        <!-- END Bordered Table -->
      </div>
      <!-- END Responsive Table Container -->
    </div>
  </div>
</div>
{% endblock %}
